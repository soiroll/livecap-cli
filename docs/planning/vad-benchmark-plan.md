# çµ±åˆãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å®Ÿè£…è¨ˆç”»

> **ä½œæˆæ—¥:** 2025-11-25
> **é–¢é€£ Issue:** #86
> **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:** Phase B å®Ÿè£…æº–å‚™ä¸­
> **æœ€çµ‚æ›´æ–°:** 2025-11-26 (å‡ºåŠ›è¨­è¨ˆç¢ºå®š)

---

## 1. æ¦‚è¦

### 1.1 ç›®çš„

livecap-cli ã®éŸ³å£°èªè­˜ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å…¨ä½“ã‚’è©•ä¾¡ã™ã‚‹ãŸã‚ã®**çµ±åˆãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚

**VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ + ASR ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’åŒæ™‚å®Ÿè£…**ã—ã€ä»¥ä¸‹ã‚’å®Ÿç¾ï¼š

- è¤‡æ•°ã® VAD ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆ10æ§‹æˆï¼‰ã‚’æ¯”è¼ƒè©•ä¾¡
- å…¨ ASR ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆ10ç¨®é¡ï¼‰ã®å˜ä½“æ€§èƒ½ã‚’è©•ä¾¡
- VAD Ã— ASR ã®æœ€é©ãªçµ„ã¿åˆã‚ã›ã‚’ç™ºè¦‹

### 1.2 èƒŒæ™¯

- Phase 1 ã§ Silero VAD ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã¦æ¡ç”¨
- `docs/reference/vad-comparison.md` ã®èª¿æŸ»ã«ã‚ˆã‚Šã€ä»–ã® VADï¼ˆJaVAD, TenVADï¼‰ãŒå„ªã‚Œã¦ã„ã‚‹å¯èƒ½æ€§
- æœ¬ãƒªãƒã‚¸ãƒˆãƒªã«ã¯ **10ç¨®é¡ã® ASR ã‚¨ãƒ³ã‚¸ãƒ³**ãŒå®Ÿè£…æ¸ˆã¿
- VAD Ã— ASR ã®æœ€é©ãªçµ„ã¿åˆã‚ã›ã‚’ç™ºè¦‹ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

### 1.3 åŒæ™‚å®Ÿè£…ã®ç†ç”±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚³ãƒ¼ãƒ‰å…±æœ‰ç‡åˆ†æ                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  å…±é€šéƒ¨åˆ† (80%):                                                 â”‚
â”‚  â”œâ”€â”€ metrics.py      # WER/CER/RTFè¨ˆç®—                          â”‚
â”‚  â”œâ”€â”€ datasets.py     # éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« + Ground Truthç®¡ç†           â”‚
â”‚  â”œâ”€â”€ engines.py      # 10ã‚¨ãƒ³ã‚¸ãƒ³ã®çµ±ä¸€ç®¡ç†                      â”‚
â”‚  â””â”€â”€ reports.py      # JSON/Markdownå‡ºåŠ›                        â”‚
â”‚                                                                  â”‚
â”‚  å›ºæœ‰éƒ¨åˆ† (20%):                                                 â”‚
â”‚  â”œâ”€â”€ vad/runner.py   # VADå‡¦ç† + ASRå‘¼ã³å‡ºã—                    â”‚
â”‚  â””â”€â”€ asr/runner.py   # ASRå‘¼ã³å‡ºã—ã®ã¿ï¼ˆVADã‚¹ã‚­ãƒƒãƒ—ï¼‰           â”‚
â”‚                                                                  â”‚
â”‚  â†’ å…±é€šåŸºç›¤ã‚’ä½œã‚‹æ™‚ç‚¹ã§ã€ASRãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã¯å®Ÿè³ªå®Œæˆ               â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å·¥æ•°æ¯”è¼ƒ:**

| ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ | å…±é€šåŸºç›¤ | VADå›ºæœ‰ | ASRå›ºæœ‰ | åˆè¨ˆ |
|-----------|---------|---------|---------|------|
| VADã®ã¿å…ˆè¡Œ | 5æ—¥ | 2æ—¥ | - | 7æ—¥ |
| å¾Œã‹ã‚‰ASRè¿½åŠ  | - | - | 3æ—¥ | **10æ—¥** |
| **åŒæ™‚å®Ÿè£…** | 5æ—¥ | 2æ—¥ | 1æ—¥ | **8æ—¥** |

### 1.4 ã‚¹ã‚³ãƒ¼ãƒ—

| å«ã‚€ | å«ã¾ãªã„ |
|------|----------|
| VAD Ã— å…¨ASRè©•ä¾¡ï¼ˆ10 VAD Ã— 10 ASRï¼‰ | VAD/ASR ã®æœ¬ç•ªåˆ‡ã‚Šæ›¿ãˆ |
| ASR å˜ä½“è©•ä¾¡ï¼ˆ10ã‚¨ãƒ³ã‚¸ãƒ³ï¼‰ | æ–°ã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£… |
| æ—¥æœ¬èªãƒ»è‹±èªã§ã®è©•ä¾¡ | å…¨è¨€èªã§ã®è©•ä¾¡ |
| CLI ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãƒ„ãƒ¼ãƒ« | GUI |
| Windows self-hosted runner (RTX 4090) | GitHub-hosted GPU |

---

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 2.1 ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ

**å…±é€šåŸºç›¤ + å€‹åˆ¥ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯**ã®è¨­è¨ˆã§ã€ã‚³ãƒ¼ãƒ‰å†åˆ©ç”¨ã‚’æœ€å¤§åŒ–ã€‚

```
benchmarks/
â”œâ”€â”€ common/                    # å…±é€šãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« (80%)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ metrics.py             # WER/CER/RTF è¨ˆç®—
â”‚   â”œâ”€â”€ datasets.py            # ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆç®¡ç†
â”‚   â”œâ”€â”€ engines.py             # ASR ã‚¨ãƒ³ã‚¸ãƒ³ç®¡ç†
â”‚   â””â”€â”€ reports.py             # ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â”œâ”€â”€ asr/                       # ASR ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ runner.py              # ASR ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å®Ÿè¡Œ
â”‚   â””â”€â”€ cli.py                 # CLI ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â””â”€â”€ vad/                       # VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ runner.py              # VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å®Ÿè¡Œ
    â”œâ”€â”€ cli.py                 # CLI ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
    â”œâ”€â”€ factory.py             # VADFactory (engines/ ãƒ‘ã‚¿ãƒ¼ãƒ³è¸è¥²)
    â””â”€â”€ backends/              # VAD ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ base.py            # VADBackend Protocol
        â”œâ”€â”€ silero.py          # SileroVADBackend
        â”œâ”€â”€ javad.py           # JaVADBackend
        â”œâ”€â”€ webrtc.py          # WebRTCVADBackend
        â””â”€â”€ tenvad.py          # TenVADBackend
```

### 2.2 è©•ä¾¡ãƒ•ãƒ­ãƒ¼ã®é–¢ä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ASR ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ï¼ˆåŸºç¤ï¼‰                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ãƒ†ã‚¹ãƒˆéŸ³å£° (.wav)                                               â”‚
â”‚       â”‚                                                          â”‚
â”‚       â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ASR Engine (10 engines)                                 â”‚    â”‚
â”‚  â”‚ â†’ éŸ³å£°å…¨ä½“ã‚’æ–‡å­—èµ·ã“ã—                                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚                                                          â”‚
â”‚       â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ è©•ä¾¡ (common/metrics.py)                                â”‚    â”‚
â”‚  â”‚ â†’ WER/CER è¨ˆç®—                                          â”‚    â”‚
â”‚  â”‚ â†’ RTF è¨ˆæ¸¬                                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
              VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã¯ã€ŒVADå‡¦ç†ã‚’å‰ã«æŒ¿å…¥ã€ã™ã‚‹ã ã‘
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ï¼ˆASRã®ä¸Šã«æ§‹ç¯‰ï¼‰                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ãƒ†ã‚¹ãƒˆéŸ³å£° (.wav)                                               â”‚
â”‚       â”‚                                                          â”‚
â”‚       â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ VAD Backend (11 configurations)  â† è¿½åŠ éƒ¨åˆ†             â”‚    â”‚
â”‚  â”‚ â†’ éŸ³å£°ã‚»ã‚°ãƒ¡ãƒ³ãƒˆæ¤œå‡º                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚                                                          â”‚
â”‚       â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ASR Engine (å…±é€šéƒ¨åˆ†ã‚’å†åˆ©ç”¨)                            â”‚    â”‚
â”‚  â”‚ â†’ å„ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’æ–‡å­—èµ·ã“ã—                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚       â”‚                                                          â”‚
â”‚       â–¼                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ è©•ä¾¡ (common/metrics.py ã‚’å†åˆ©ç”¨)                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (âœ… å®Ÿè£…æ¸ˆã¿)

> å®Ÿè£…: `benchmarks/common/`

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | æ©Ÿèƒ½ |
|-----------|------|
| `metrics.py` | WER/CER/RTFè¨ˆç®—ã€GPUMemoryTracker |
| `text_normalization.py` | è¨€èªåˆ¥ãƒ†ã‚­ã‚¹ãƒˆæ­£è¦åŒ– |
| `datasets.py` | AudioFile (lazy load)ã€Datasetã€DatasetManager |
| `engines.py` | BenchmarkEngineManager (ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€VADç„¡åŠ¹åŒ–) |
| `reports.py` | BenchmarkReporter (JSON/Markdown/Consoleå‡ºåŠ›) |

---

## 3. è©•ä¾¡ãƒãƒˆãƒªã‚¯ã‚¹

### 3.1 ASR ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ASR è©•ä¾¡ãƒãƒˆãƒªã‚¯ã‚¹                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ASR (10ã‚¨ãƒ³ã‚¸ãƒ³)              è¨€èª (2+)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚ reazonspeech    â”‚â”€â”€â”€â”€â”€â”€jaâ”€â”€â”‚ Japanese â”‚                      â”‚
â”‚  â”‚ parakeet_ja     â”‚â”€â”€â”€â”€â”€â”€jaâ”€â”€â”‚          â”‚                      â”‚
â”‚  â”‚ parakeet        â”‚â”€â”€â”€â”€â”€â”€enâ”€â”€â”‚ English  â”‚                      â”‚
â”‚  â”‚ canary          â”‚â”€â”€â”€â”€â”€â”€enâ”€â”€â”‚          â”‚                      â”‚
â”‚  â”‚ voxtral         â”‚â”€â”€â”€â”€â”€â”€enâ”€â”€â”‚ (Future) â”‚                      â”‚
â”‚  â”‚ whispers2t_*    â”‚â”€â”€â”€â”€â”€â”€allâ”€â”‚ de,fr,es â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                  â”‚
â”‚  Total: 10 ASR Ã— 2 Lang = 20 tests (è¨€èªå¯¾å¿œåˆ†ã®ã¿)              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 VAD Ã— ASR ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ VAD Ã— ASR è©•ä¾¡ãƒãƒˆãƒªã‚¯ã‚¹                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  VAD (10æ§‹æˆ)          ASR (10ã‚¨ãƒ³ã‚¸ãƒ³)         è¨€èª (2+)       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Silero v6   â”‚      â”‚ reazonspeech    â”‚â”€â”€jaâ”€â”€â”‚ Japanese â”‚    â”‚
â”‚  â”‚ TenVAD      â”‚      â”‚ parakeet_ja     â”‚â”€â”€jaâ”€â”€â”‚          â”‚    â”‚
â”‚  â”‚ JaVAD tiny  â”‚  Ã—   â”‚ parakeet        â”‚â”€â”€enâ”€â”€â”‚ English  â”‚    â”‚
â”‚  â”‚ JaVAD bal.  â”‚      â”‚ canary          â”‚â”€â”€enâ”€â”€â”‚          â”‚    â”‚
â”‚  â”‚ JaVAD prec. â”‚      â”‚ voxtral         â”‚â”€â”€enâ”€â”€â”‚          â”‚    â”‚
â”‚  â”‚ WebRTC 0-3  â”‚      â”‚ whispers2t_*    â”‚â”€â”€allâ”€â”‚          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â”‚  Full Matrix: 10 VAD Ã— 10 ASR Ã— 2 Lang = 200 combinations       â”‚
â”‚  Practical:   10 VAD Ã— 3-4 ASR/lang Ã— 2 Lang â‰ˆ 60-80 tests     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 è¨€èªåˆ¥æ¨å¥¨ã‚¨ãƒ³ã‚¸ãƒ³

| è¨€èª | æ¨å¥¨ã‚¨ãƒ³ã‚¸ãƒ³ | ä»£æ›¿ã‚¨ãƒ³ã‚¸ãƒ³ |
|------|-------------|-------------|
| **Japanese (ja)** | reazonspeech, parakeet_ja | whispers2t_base |
| **English (en)** | parakeet, canary | whispers2t_base, voxtral |
| **German (de)** | canary | whispers2t_base, voxtral |
| **French (fr)** | canary | whispers2t_base, voxtral |
| **Spanish (es)** | canary | whispers2t_base, voxtral |

### 3.4 å®Ÿè¡Œæˆ¦ç•¥

**Quick Mode** (CI ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ):
- ASR: è¨€èªåˆ¥ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ 2 ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆç´„ 4 ãƒ†ã‚¹ãƒˆï¼‰
  - **ja**: `parakeet_ja`, `whispers2t_large_v3`ï¼ˆæ—¥æœ¬èªç‰¹åŒ– + æ±ç”¨é«˜ç²¾åº¦ï¼‰
  - **en**: `parakeet`, `whispers2t_large_v3`ï¼ˆè‹±èªç‰¹åŒ– + æ±ç”¨é«˜ç²¾åº¦ï¼‰
  - â€» Linux/Windows ä¸¡å¯¾å¿œã‚’è€ƒæ…®ã—ã€`reazonspeech` ã¯ Quick Mode ã‹ã‚‰é™¤å¤–
- VAD: Silero v6, JaVAD precise, WebRTC mode 3ï¼ˆç´„ 12 ãƒ†ã‚¹ãƒˆï¼‰
- æ¨å®šæ™‚é–“: ~5åˆ†

**Standard Mode**:
- ASR: è¨€èªåˆ¥å…¨ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆç´„ 10 ãƒ†ã‚¹ãƒˆï¼‰
- VAD: å…¨ 11 æ§‹æˆ Ã— è¨€èªåˆ¥ 2-3 ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆç´„ 44-66 ãƒ†ã‚¹ãƒˆï¼‰
- æ¨å®šæ™‚é–“: ~20åˆ†

**Full Mode** (æ‰‹å‹•å®Ÿè¡Œ):
- ASR: å…¨ã‚¨ãƒ³ã‚¸ãƒ³ Ã— å…¨å¯¾å¿œè¨€èªï¼ˆç´„ 20 ãƒ†ã‚¹ãƒˆï¼‰
- VAD: å…¨ 11 æ§‹æˆ Ã— å…¨å¯¾å¿œã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆç´„ 88+ ãƒ†ã‚¹ãƒˆï¼‰
- æ¨å®šæ™‚é–“: ~60åˆ†

---

## 4. ASR ã‚¨ãƒ³ã‚¸ãƒ³ä¸€è¦§

### 4.1 å®Ÿè£…æ¸ˆã¿ã‚¨ãƒ³ã‚¸ãƒ³

`engines/metadata.py` ã‹ã‚‰å–å¾—ã—ãŸå…¨ 10 ã‚¨ãƒ³ã‚¸ãƒ³ï¼š

| ID | è¡¨ç¤ºå | å¯¾å¿œè¨€èª | ã‚µã‚¤ã‚º | VADå†…è”µ |
|----|--------|---------|--------|---------|
| `reazonspeech` | ReazonSpeech K2 v2 | ja | 159MB | âŒ |
| `parakeet` | NVIDIA Parakeet TDT 0.6B | en | 1.2GB | âŒ |
| `parakeet_ja` | NVIDIA Parakeet TDT CTC JA | ja | 600MB | âŒ |
| `canary` | NVIDIA Canary 1B Flash | en,de,fr,es | 1.5GB | âŒ |
| `voxtral` | MistralAI Voxtral Mini 3B | en,es,fr,pt,hi,de,nl,it | 3GB | âŒ |
| `whispers2t_tiny` | WhisperS2T Tiny | å¤šè¨€èª | 39MB | âœ… |
| `whispers2t_base` | WhisperS2T Base | å¤šè¨€èª | 74MB | âœ… |
| `whispers2t_small` | WhisperS2T Small | å¤šè¨€èª | 244MB | âœ… |
| `whispers2t_medium` | WhisperS2T Medium | å¤šè¨€èª | 769MB | âœ… |
| `whispers2t_large_v3` | WhisperS2T Large-v3 | å¤šè¨€èª | 1.55GB | âœ… |

### 4.2 VAD ç„¡åŠ¹åŒ–

WhisperS2T ã®ã¿å†…è”µ VAD ã‚’æŒã¤ã€‚ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯æ™‚ã¯ `use_vad=False` ã§ç„¡åŠ¹åŒ–ï¼š

```python
# engines/whispers2t_engine.py:52
self.use_vad = self.engine_config.get('use_vad', True)

# engines/whispers2t_engine.py:290-304
if self.use_vad:
    outputs = self.model.transcribe_with_vad(...)
else:
    outputs = self.model.transcribe(...)  # VAD ãªã—
```

ä»–ã®ã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆParakeet, ReazonSpeech, Canary, Voxtralï¼‰ã¯ VAD é–¢é€£ã‚³ãƒ¼ãƒ‰ãŒãªã„ãŸã‚ã€ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½ã€‚

---

## 5. VAD æ§‹æˆä¸€è¦§

### 5.1 ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å¯¾è±¡

**åˆè¨ˆ 10 æ§‹æˆ**ï¼ˆSilero v5 ã¯ v6 ã®ä¸Šä½äº’æ›ã®ãŸã‚é™¤å¤–ï¼‰:

| VAD | ãƒ¢ãƒ‡ãƒ«/è¨­å®š | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ | ç‰¹å¾´ |
|-----|------------|-----------|------|
| Silero VAD v6 | ONNX | MIT | ç¾åœ¨ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã€é«˜ç²¾åº¦ |
| TenVAD | - | ç‹¬è‡ª | æœ€è»½é‡ãƒ»æœ€é«˜é€Ÿï¼ˆè©•ä¾¡ã®ã¿ï¼‰ |
| JaVAD | tiny | MIT | 0.64s windowã€å³æ™‚æ¤œå‡ºå‘ã‘ |
| JaVAD | balanced | MIT | 1.92s windowã€ãƒãƒ©ãƒ³ã‚¹å‹ |
| JaVAD | precise | MIT | 3.84s windowã€æœ€é«˜ç²¾åº¦ |
| WebRTC VAD | mode 0 | BSD | æœ€ã‚‚å¯›å®¹ã€èª¤æ¤œå‡ºå°‘ |
| WebRTC VAD | mode 1 | BSD | ã‚„ã‚„å³æ ¼ |
| WebRTC VAD | mode 2 | BSD | å³æ ¼ |
| WebRTC VAD | mode 3 | BSD | æœ€ã‚‚å³æ ¼ã€è¦‹é€ƒã—å¤š |

### 5.2 VAD ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­è¨ˆ (Phase C ã§å®Ÿè£…äºˆå®š)

`engines/` ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆProtocol + Factoryï¼‰ã‚’è¸è¥²ã€‚

**è¨­è¨ˆæ–¹é‡:**
- `VADBackend` Protocol: `name`, `load()`, `process()`, `cleanup()` ãƒ¡ã‚½ãƒƒãƒ‰
- `VADFactory`: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ç”Ÿæˆãƒ•ã‚¡ã‚¯ãƒˆãƒªï¼ˆ`engines/engine_factory.py` ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰
- å®Ÿè£…å…ˆ: `benchmarks/vad/backends/`

**æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨ã®é–¢ä¿‚:**
- `livecap_core/vad/backends/silero.py`: ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†å‘ã‘
- ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ç”¨: ãƒãƒƒãƒå‡¦ç†å‘ã‘ï¼ˆéŸ³å£°å…¨ä½“ â†’ ã‚»ã‚°ãƒ¡ãƒ³ãƒˆãƒªã‚¹ãƒˆï¼‰
- ç”¨é€”ãŒç•°ãªã‚‹ãŸã‚ã€åˆ¥ã‚¯ãƒ©ã‚¹ã¨ã—ã¦å®Ÿè£…

---

## 6. è©•ä¾¡æŒ‡æ¨™

### 6.1 ASR ç²¾åº¦æŒ‡æ¨™

| æŒ‡æ¨™ | èª¬æ˜ | è¨ˆç®—æ–¹æ³• |
|------|------|----------|
| **WER** | Word Error Rate | `(S + D + I) / N` |
| **CER** | Character Error Rate | æ–‡å­—å˜ä½ã® WERï¼ˆæ—¥æœ¬èªå‘ã‘ï¼‰ |

- `S`: ç½®æ›æ•°ã€`D`: å‰Šé™¤æ•°ã€`I`: æŒ¿å…¥æ•°ã€`N`: å‚ç…§å˜èªæ•°
- ãƒ©ã‚¤ãƒ–ãƒ©ãƒª: [jiwer](https://github.com/jitsi/jiwer)

### 6.2 æ€§èƒ½æŒ‡æ¨™

| æŒ‡æ¨™ | èª¬æ˜ | å˜ä½ |
|------|------|------|
| **RTF** | Real-Time Factor | æ¯”ç‡ï¼ˆä½ã„ã»ã©é«˜é€Ÿï¼‰ |
| **Latency** | å…¥åŠ›â†’å‡ºåŠ›ã®é…å»¶ | ms |
| **Memory (RAM)** | ãƒ”ãƒ¼ã‚¯RAMä½¿ç”¨é‡ | MB |
| **GPU VRAM (Model)** | ãƒ¢ãƒ‡ãƒ«ãƒ­ãƒ¼ãƒ‰å¾Œã®VRAMä½¿ç”¨é‡ | MB |
| **GPU VRAM (Peak)** | æ¨è«–ä¸­ã®ãƒ”ãƒ¼ã‚¯VRAMä½¿ç”¨é‡ | MB |

#### RAM ãƒ¡ãƒ¢ãƒªæ¸¬å®šæ–¹æ³•

Python æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã® `tracemalloc` ã‚’ä½¿ç”¨:

```python
import tracemalloc

def measure_ram_usage(func):
    """RAM ä½¿ç”¨é‡ã‚’æ¸¬å®š"""
    tracemalloc.start()
    result = func()
    current, peak = tracemalloc.get_traced_memory()
    tracemalloc.stop()
    return {
        "memory_current_mb": current / 1024**2,
        "memory_peak_mb": peak / 1024**2,
    }
```

**æ³¨æ„:**
- `tracemalloc` ã¯ Python ãƒ’ãƒ¼ãƒ—ã®ã¿ã‚’æ¸¬å®šï¼ˆãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¡ãƒ¢ãƒªã¯å«ã¾ãªã„ï¼‰
- ç›¸å¯¾æ¯”è¼ƒã«ã¯ååˆ†ãªç²¾åº¦
- å¿…è¦ã«å¿œã˜ã¦ `psutil` ã¸ã®åˆ‡ã‚Šæ›¿ãˆã‚’æ¤œè¨ï¼ˆPhase B ã§æ¤œè¨¼ï¼‰

#### GPU ãƒ¡ãƒ¢ãƒªæ¸¬å®šæ–¹æ³•

```python
import torch

def measure_gpu_memory(func):
    """GPU ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æ¸¬å®šã™ã‚‹ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿"""
    if not torch.cuda.is_available():
        return {"gpu_memory_model_mb": None, "gpu_memory_peak_mb": None}

    torch.cuda.reset_peak_memory_stats()
    torch.cuda.synchronize()

    # ãƒ¢ãƒ‡ãƒ«ãƒ­ãƒ¼ãƒ‰å¾Œã®ä½¿ç”¨é‡
    result = func()
    torch.cuda.synchronize()
    model_memory = torch.cuda.memory_allocated() / 1024**2

    # æ¨è«–å¾Œã®ãƒ”ãƒ¼ã‚¯ä½¿ç”¨é‡
    peak_memory = torch.cuda.max_memory_allocated() / 1024**2

    return {
        "gpu_memory_model_mb": model_memory,
        "gpu_memory_peak_mb": peak_memory,
    }
```

**æ³¨æ„:**
- CPU ãƒ¢ãƒ¼ãƒ‰ã®å ´åˆã¯ `None` ã‚’è¨˜éŒ²
- ONNX Runtime (GPU) ã®å ´åˆã¯ `nvidia-smi` çµŒç”±ã§æ¸¬å®šãŒå¿…è¦ãªå ´åˆãŒã‚ã‚‹
- æ¸¬å®šã®å†ç¾æ€§ã®ãŸã‚ã€warm-up å®Ÿè¡Œå¾Œã«æ¸¬å®šã™ã‚‹

### 6.3 VAD å›ºæœ‰æŒ‡æ¨™

| æŒ‡æ¨™ | èª¬æ˜ |
|------|------|
| **Segments** | æ¤œå‡ºã‚»ã‚°ãƒ¡ãƒ³ãƒˆæ•° |
| **Avg Duration** | å¹³å‡ã‚»ã‚°ãƒ¡ãƒ³ãƒˆé•· |
| **Speech Ratio** | éŸ³å£°åŒºé–“ã®å‰²åˆ |

### 6.4 Raw vs Normalized ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆPhase B å®Ÿè£…äºˆå®šï¼‰

**èƒŒæ™¯:**
æ­£è¦åŒ–å‰å¾Œã®ä¸¡æ–¹ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’å ±å‘Šã™ã‚‹ã“ã¨ã§ã€ãƒˆãƒ¬ãƒ¼ã‚¹ã‚¢ãƒ“ãƒªãƒ†ã‚£ã‚’å‘ä¸Šã•ã›ã‚‹ã€‚

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | èª¬æ˜ | ç”¨é€” |
|-----------|------|------|
| **WER/CER (Normalized)** | æ­£è¦åŒ–å¾Œï¼ˆå¥èª­ç‚¹é™¤å»ã€å°æ–‡å­—åŒ–ï¼‰| ã‚¨ãƒ³ã‚¸ãƒ³æ¯”è¼ƒã®ä¸»æŒ‡æ¨™ |
| **WER/CER (Raw)** | æ­£è¦åŒ–å‰ï¼ˆå…ƒã®ãƒ†ã‚­ã‚¹ãƒˆï¼‰| å¥èª­ç‚¹äºˆæ¸¬ç²¾åº¦ã®æŠŠæ¡ |

**å®Ÿè£…ä¾‹:**
```python
@dataclass
class BenchmarkResult:
    # Primary metrics (normalized)
    wer: float | None = None
    cer: float | None = None

    # Raw metrics (traceability)
    wer_raw: float | None = None
    cer_raw: float | None = None
```

**å‡ºåŠ›ä¾‹:**
```
Engine        CER    CER(raw)   RTF   VRAM
-----------  -----  ---------  ----  ------
reazonspeech  3.2%     8.1%    0.15  2048MB
whispers2t    5.1%    12.3%    0.08  3072MB
```

**ãƒ¡ãƒªãƒƒãƒˆ:**
- æ­£è¦åŒ–ã®å½±éŸ¿ã‚’å®šé‡çš„ã«æŠŠæ¡
- å¥èª­ç‚¹äºˆæ¸¬ç²¾åº¦ã®æ¯”è¼ƒãŒå¯èƒ½
- ãƒ‡ãƒãƒƒã‚°ãƒ»åˆ†ææ™‚ã«æœ‰ç”¨

### 6.5 çµ±è¨ˆçš„å³å¯†æ€§

**ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹:** VAD Ã— ASR ã®çµ„ã¿åˆã‚ã›æ¯”è¼ƒã€çµæœã¯å…¬é–‹ï¼ˆè«–æ–‡ã»ã©ã®å³å¯†æ€§ã¯ä¸è¦ï¼‰

#### æ±ºå®šäº‹é …: 2ãƒ¢ãƒ¼ãƒ‰åˆ¶

| ãƒ¢ãƒ¼ãƒ‰ | å®Ÿè¡Œå›æ•° | ç”¨é€” | CLI |
|--------|---------|------|-----|
| **å˜ä¸€å®Ÿè¡Œ** | 1å› | é–‹ç™ºãƒ»CIãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ†ã‚¹ãƒˆ | `--runs 1`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ |
| **è¤‡æ•°å®Ÿè¡Œ** | 3å› | å…¬é–‹ç”¨ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ | `--runs 3` |

#### ãƒ¡ãƒˆãƒªã‚¯ã‚¹åˆ¥ã®æ¸¬å®šæ–¹æ³•

| ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | æ¸¬å®šæ–¹æ³• | ç†ç”± |
|-----------|---------|------|
| **RTF** | ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—1å› + Nå›æ¸¬å®š | GPUçŠ¶æ…‹ã«ã‚ˆã‚‹å¤‰å‹•ã‚’æ’é™¤ |
| **WER/CER** | ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ã«1å› | æ±ºå®šçš„ï¼ˆåŒã˜å…¥åŠ›=åŒã˜å‡ºåŠ›ï¼‰ |
| **VRAM** | 1å›ã®ã¿ | ã»ã¼å›ºå®šå€¤ |

#### RTF ã®å¤‰å‹•è¦å› 

| è¦å›  | å½±éŸ¿åº¦ | èª¬æ˜ |
|------|--------|------|
| GPU ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ— | é«˜ | åˆå›æ¨è«–ã¯CUDAã‚«ãƒ¼ãƒãƒ«ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã§é…ã„ |
| GPU ã‚µãƒ¼ãƒãƒ«ã‚¹ãƒ­ãƒƒãƒˆãƒªãƒ³ã‚° | ä¸­ | æ¸©åº¦ä¸Šæ˜‡ã§ã‚¯ãƒ­ãƒƒã‚¯ä½ä¸‹ |
| ãƒ¡ãƒ¢ãƒªçŠ¶æ…‹ | ä½ | VRAMæ–­ç‰‡åŒ–ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥çŠ¶æ…‹ |

**ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—å¾Œã®æœŸå¾…å¤‰å‹•å¹…:** Â±5-10%ï¼ˆå°‚ç”¨ãƒã‚·ãƒ³ã§ã¯ Â±2-5%ï¼‰

#### Warm-up ã‚¿ã‚¤ãƒŸãƒ³ã‚°

**æ±ºå®šäº‹é …:** ã‚¨ãƒ³ã‚¸ãƒ³ã”ã¨ã«1å›ï¼ˆæœ€åˆã®ãƒ•ã‚¡ã‚¤ãƒ«å‡¦ç†å‰ï¼‰

| æ–¹å¼ | æ¡ç”¨ | ç†ç”± |
|------|------|------|
| ã‚¨ãƒ³ã‚¸ãƒ³ã”ã¨ | âœ… | é«˜é€Ÿã€GPUçŠ¶æ…‹ã®å®‰å®šåŒ–ã«ååˆ† |
| ãƒ•ã‚¡ã‚¤ãƒ«ã”ã¨ | âŒ | æ™‚é–“ãŒã‹ã‹ã‚Šã™ãã‚‹ï¼ˆ100ãƒ•ã‚¡ã‚¤ãƒ« = 100å›ã® warm-upï¼‰ |

#### å®Ÿè£…ä¾‹

```python
def benchmark_engine(engine, dataset, runs=1):
    """ã‚¨ãƒ³ã‚¸ãƒ³ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å®Ÿè¡Œ"""
    # ã‚¨ãƒ³ã‚¸ãƒ³ã”ã¨ã«1å›ã® warm-upï¼ˆæœ€åˆã®ãƒ•ã‚¡ã‚¤ãƒ«ã§å®Ÿè¡Œï¼‰
    first_file = dataset.files[0]
    engine.transcribe(first_file.audio, first_file.sample_rate)

    results = []
    for audio_file in dataset:
        # RTFæ¸¬å®šï¼ˆrunså›å®Ÿè¡Œã—ã¦å¹³å‡ã‚’å–ã‚‹ï¼‰
        times = []
        for _ in range(runs):
            start = time.perf_counter()
            transcript, _ = engine.transcribe(audio_file.audio, audio_file.sample_rate)
            times.append(time.perf_counter() - start)

        mean_time = statistics.mean(times)
        rtf = mean_time / audio_file.duration

        results.append({
            "file_id": audio_file.stem,
            "transcript": transcript,
            "rtf": rtf,
        })

    return results
```

#### å‡ºåŠ›ä¾‹ï¼ˆè¤‡æ•°å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ï¼‰

```
=== ASR Benchmark Results (3 runs) ===

--- Japanese ---
Engine        CER    RTF (meanÂ±std)    VRAM
-----------  -----  ----------------  ------
reazonspeech  3.2%   0.15 Â± 0.01     2048MB
parakeet_ja   4.5%   0.12 Â± 0.02     3584MB
whispers2t    5.1%   0.08 Â± 0.01     1536MB
```

#### CLI ä½¿ç”¨ä¾‹

```bash
# é–‹ç™ºæ™‚ï¼ˆé«˜é€Ÿï¼‰
python -m benchmarks.asr --mode quick

# å…¬é–‹ç”¨ï¼ˆä¿¡é ¼æ€§é‡è¦–ï¼‰
python -m benchmarks.asr --mode standard --runs 3
```

#### Phase B å®Ÿè£…æ±ºå®šäº‹é …

- `--runs` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ Phase B ã§å®Ÿè£…
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: `--runs 1`ï¼ˆå˜ä¸€å®Ÿè¡Œï¼‰
- è¤‡æ•°å®Ÿè¡Œæ™‚ã¯ RTF ã® `mean` ã‚’è¨˜éŒ²ï¼ˆ`std/min/max` ã¯å¿…è¦ã«å¿œã˜ã¦å¾Œã‹ã‚‰è¿½åŠ ï¼‰

### 6.6 ã‚¨ãƒ³ã‚¸ãƒ³Ã—è¨€èªã®äº’æ›æ€§ãƒã‚§ãƒƒã‚¯

**æ±ºå®šäº‹é …:** éå¯¾å¿œè¨€èªã®ãƒ‡ãƒ¼ã‚¿ã¯è‡ªå‹•ã‚¹ã‚­ãƒƒãƒ—

ã‚¨ãƒ³ã‚¸ãƒ³ãŒå¯¾å¿œã—ã¦ã„ãªã„è¨€èªã®ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã¯ã€ã‚¨ãƒ©ãƒ¼ã§ã¯ãªãè‡ªå‹•çš„ã«ã‚¹ã‚­ãƒƒãƒ—ã™ã‚‹ã€‚

```python
# benchmarks/common/datasets.py
def get_files_for_engine(self, engine_id: str) -> Iterator[AudioFile]:
    from engines.metadata import EngineMetadata
    info = EngineMetadata.get(engine_id)
    supported = info.supported_languages if info else None

    for f in self.files:
        if supported is None or f.language in supported:
            yield f
        else:
            logger.debug(f"Skipping {f.path}: {engine_id} doesn't support {f.language}")
```

**ãƒ¡ãƒªãƒƒãƒˆ:**
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ï¼ˆæ˜ç¤ºçš„ãªé™¤å¤–æŒ‡å®šãŒä¸è¦ï¼‰
- `--engine reazonspeech --language ja en` æŒ‡å®šæ™‚ã€`reazonspeech` ã¯ `en` ã‚’è‡ªå‹•ã‚¹ã‚­ãƒƒãƒ—

### 6.7 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥

**æ±ºå®šäº‹é …:** ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã‚¹ã‚­ãƒƒãƒ—ï¼‹è­¦å‘Š

| ã‚±ãƒ¼ã‚¹ | æŒ™å‹• | ç†ç”± |
|--------|------|------|
| ã‚¨ãƒ³ã‚¸ãƒ³ãƒ­ãƒ¼ãƒ‰å¤±æ•— | ã‚¹ã‚­ãƒƒãƒ—ï¼‹è­¦å‘Š | ä»–ã‚¨ãƒ³ã‚¸ãƒ³ã®çµæœã¯å–å¾—ã—ãŸã„ |
| éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿å¤±æ•— | ã‚¹ã‚­ãƒƒãƒ—ï¼‹è­¦å‘Š | ä»–ãƒ•ã‚¡ã‚¤ãƒ«ã®çµæœã¯å–å¾—ã—ãŸã„ |
| æ¨è«–ä¸­ã‚¨ãƒ©ãƒ¼ | ã‚¹ã‚­ãƒƒãƒ—ï¼‹è­¦å‘Š | åŒä¸Š |

**å®Ÿè£…ä¾‹:**

```python
try:
    engine = engine_manager.get_engine(engine_id, device, language)
except Exception as e:
    logger.warning(f"Failed to load {engine_id}: {e}")
    continue  # æ¬¡ã®ã‚¨ãƒ³ã‚¸ãƒ³ã¸
```

**å°†æ¥ã®æ‹¡å¼µ:** `--strict` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ä¾‹å¤–ã‚’ç™ºç”Ÿã•ã›ã‚‹ãƒ¢ãƒ¼ãƒ‰ã‚’è¿½åŠ å¯èƒ½

### 6.8 é€²æ—è¡¨ç¤º

**æ±ºå®šäº‹é …:** `tqdm` ã‚’ä½¿ç”¨ã—ãŸé€²æ—ãƒãƒ¼è¡¨ç¤º

Full ãƒ¢ãƒ¼ãƒ‰ï¼ˆ60åˆ†+ï¼‰ã‚’å¤šç”¨ã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã€`tqdm` ã«ã‚ˆã‚‹é€²æ—è¡¨ç¤ºã‚’å®Ÿè£…ã€‚

```python
from tqdm import tqdm

for engine_id in tqdm(engines, desc="Engines"):
    for audio_file in tqdm(dataset, desc=f"  {engine_id}", leave=False):
        result = benchmark_single(engine_id, audio_file)
```

**ä¾å­˜é–¢ä¿‚:** `tqdm` ã‚’ `benchmark` extra ã«è¿½åŠ 

### 6.9 æ—¢çŸ¥ã®åˆ¶é™äº‹é …

#### æ—¥æœ¬èªã²ã‚‰ãŒãª/æ¼¢å­—è¡¨è¨˜æºã‚Œ

**å•é¡Œ:**
ASRå‡ºåŠ›ã¨ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã§æ–‡å­—ç¨®ï¼ˆã²ã‚‰ãŒãª/æ¼¢å­—ï¼‰ãŒç•°ãªã‚‹å ´åˆã€CERã«å½±éŸ¿ã™ã‚‹ã€‚

```
ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹: "é£Ÿã¹ã‚‹"ï¼ˆæ¼¢å­—ï¼‰
ASRå‡ºåŠ›:     "ãŸã¹ã‚‹"ï¼ˆã²ã‚‰ãŒãªï¼‰
â†’ CER = 33%ï¼ˆæ„å‘³çš„ã«ã¯åŒä¸€ï¼‰
```

**è©•ä¾¡:**
- **å½±éŸ¿åº¦: ä½** - ç¾ä»£ã®æ—¥æœ¬èªASRã¯æ¼¢å­—å¤‰æ›å¾Œã®ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡ºåŠ›
- **å¯¾å¿œ: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒ–ã®ã¿** - ASRã®è¨€èªãƒ¢ãƒ‡ãƒ«ãŒç•°ãªã‚‹è¡¨è¨˜ã‚’é¸æŠã—ãŸå ´åˆã¯ã€å®Ÿè³ªçš„ãªå·®ç•°ã¨ã—ã¦æ‰±ã†

**ç†ç”±:**
1. ASRãƒ¢ãƒ‡ãƒ«ã¯å†…éƒ¨ã§è¨€èªãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹æ¼¢å­—å¤‰æ›ã‚’è¡Œã†
2. ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚³ãƒ¼ãƒ‘ã‚¹ï¼ˆJSUTç­‰ï¼‰ã‚‚æ¼¢å­—æ··ã˜ã‚Šã®è‡ªç„¶ãªæ—¥æœ¬èª
3. è¡¨è¨˜ã®é•ã„ã¯å­—å¹•å“è³ªã«å½±éŸ¿ã™ã‚‹ãŸã‚ã€ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã®ã¯å¦¥å½“

**æ³¨è¨˜:**
ä¸€éƒ¨ã®è¡¨è¨˜æºã‚Œï¼ˆã€Œå­ä¾›ã€vsã€Œå­ã©ã‚‚ã€ç­‰ï¼‰ã¯çœŸã®ã‚¨ãƒ©ãƒ¼ã§ã¯ãªã„ãŒã€å…¨ä½“ã®CERã¸ã®å½±éŸ¿ã¯é™å®šçš„ã€‚

---

## 7. ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ

### 7.1 ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

**æ±ºå®šäº‹é …:** è¨€èªåˆ¥ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã«çµ±ä¸€ï¼ˆ`audio/` ã¨ `prepared/` ã§ä¸€è²«æ€§ã‚’æŒãŸã›ã‚‹ï¼‰

```
tests/assets/
â”œâ”€â”€ audio/                    # gitè¿½è·¡ï¼ˆquickãƒ¢ãƒ¼ãƒ‰ç”¨ã€æ•°ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”‚   â”œâ”€â”€ ja/
â”‚   â”‚   â”œâ”€â”€ jsut_basic5000_0001.wav
â”‚   â”‚   â””â”€â”€ jsut_basic5000_0001.txt
â”‚   â””â”€â”€ en/
â”‚       â”œâ”€â”€ librispeech_1089-134686-0001.wav
â”‚       â””â”€â”€ librispeech_1089-134686-0001.txt
â”‚
â”œâ”€â”€ prepared/                 # gitç„¡è¦–ï¼ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ ja/                   # å¤‰æ›æ¸ˆã¿æ—¥æœ¬èªãƒ‡ãƒ¼ã‚¿
â”‚   â”‚   â”œâ”€â”€ jsut_basic5000_0002.wav
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ en/                   # å¤‰æ›æ¸ˆã¿è‹±èªãƒ‡ãƒ¼ã‚¿
â”‚       â””â”€â”€ ...
â”‚
â”œâ”€â”€ source/                   # gitç„¡è¦–ï¼ˆã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‘ã‚¹ï¼‰
â”‚   â”œâ”€â”€ jsut/jsut_ver1.1/     # 3.4GB - JSUT v1.1
â”‚   â””â”€â”€ librispeech/test-clean/  # 358MB - LibriSpeech
â”‚
â””â”€â”€ README.md
```

### 7.2 æ§‹é€ å¤‰æ›´ã®å½±éŸ¿

ç¾åœ¨ã® `tests/assets/audio/` ã¯ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ ã®ãŸã‚ã€è¨€èªåˆ¥ãƒ•ã‚©ãƒ«ãƒ€ã¸ã®ç§»è¡ŒãŒå¿…è¦ã€‚

**ç¾åœ¨ã®æ§‹é€ :**
```
tests/assets/audio/
â”œâ”€â”€ jsut_basic5000_0001_ja.wav
â”œâ”€â”€ jsut_basic5000_0001_ja.txt
â”œâ”€â”€ librispeech_test-clean_1089-134686-0001_en.wav
â””â”€â”€ librispeech_test-clean_1089-134686-0001_en.txt
```

**å¤‰æ›´å¾Œ:**
```
tests/assets/audio/
â”œâ”€â”€ ja/
â”‚   â”œâ”€â”€ jsut_basic5000_0001.wav
â”‚   â””â”€â”€ jsut_basic5000_0001.txt
â””â”€â”€ en/
    â”œâ”€â”€ librispeech_1089-134686-0001.wav
    â””â”€â”€ librispeech_1089-134686-0001.txt
```

**å½±éŸ¿ã‚’å—ã‘ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«:**

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|---------|---------|
| `tests/audio_sources/test_file_source.py` | ãƒ‘ã‚¹æ›´æ–° |
| `tests/core/test_text_normalization.py` | ãƒ‘ã‚¹æ›´æ–° |
| `tests/integration/engines/test_smoke_engines.py` | ãƒ‘ã‚¹æ›´æ–° |
| `tests/integration/realtime/test_mock_realtime_flow.py` | ãƒ‘ã‚¹æ›´æ–° |
| `tests/integration/realtime/test_e2e_realtime_flow.py` | ãƒ‘ã‚¹æ›´æ–° |
| `examples/realtime/basic_file_transcription.py` | ãƒ‘ã‚¹æ›´æ–° |
| `examples/realtime/custom_vad_config.py` | ãƒ‘ã‚¹æ›´æ–° |
| `examples/realtime/callback_api.py` | ãƒ‘ã‚¹æ›´æ–° |
| `examples/README.md` | ãƒ‘ã‚¹æ›´æ–° |
| `tests/assets/README.md` | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–° |
| `tests/utils/text_normalization.py` | `get_language_from_filename()` æ›´æ–° |

**å®Ÿè£…ã‚¿ã‚¹ã‚¯:** Phase A-2 ã«å«ã‚ã‚‹

### 7.3 ã‚½ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ

| ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ | è¨€èª | å½¢å¼ | ãƒˆãƒ©ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ |
|-------------|------|------|-----------------|-----------|
| JSUT v1.1 | ja | WAV | `ID:ãƒ†ã‚­ã‚¹ãƒˆ` | éå•†ç”¨ |
| LibriSpeech test-clean | en | FLAC | `ID TEXT` | CC BY 4.0 |

### 7.4 çµ±ä¸€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä»•æ§˜

å¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ä»¥ä¸‹ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«çµ±ä¸€ï¼š

| é …ç›® | ä»•æ§˜ |
|------|------|
| éŸ³å£°å½¢å¼ | WAV, 16kHz, mono, 16bit |
| æ­£è¦åŒ– | ãƒ”ãƒ¼ã‚¯ -1dBFS |
| ãƒ•ã‚¡ã‚¤ãƒ«å | `{corpus}_{subset}_{id}.wav` |
| ãƒˆãƒ©ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | åŒå `.txt`ã€UTF-8ã€1è¡Œã€æœ«å°¾æ”¹è¡Œ |
| ãƒ•ã‚©ãƒ«ãƒ€ | `{lang}/` (ja, en) |

### 7.5 å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰ã¨ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ

| ãƒ¢ãƒ¼ãƒ‰ | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | ãƒ•ã‚¡ã‚¤ãƒ«æ•° | ç”¨é€” |
|--------|-------------|-----------|------|
| `quick` | `audio/` | ja:2, en:2 | CI smoke test |
| `standard` | `prepared/` | ja:100, en:100 (èª¿æ•´å¯) | ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º |
| `full` | `prepared/` | å…¨ãƒ•ã‚¡ã‚¤ãƒ« | æœ¬æ ¼ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ |

### 7.6 å¤‰æ›ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
# standard ãƒ¢ãƒ¼ãƒ‰ï¼ˆå„è¨€èª100ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
python scripts/prepare_benchmark_data.py --mode standard

# full ãƒ¢ãƒ¼ãƒ‰ï¼ˆå…¨ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
python scripts/prepare_benchmark_data.py --mode full

# ã‚«ã‚¹ã‚¿ãƒ 
python scripts/prepare_benchmark_data.py --ja-limit 500 --en-limit 200
```

ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å‡¦ç†å†…å®¹ï¼š

1. **JSUT**: `transcript_utf8.txt` èª­ã¿è¾¼ã¿ â†’ WAV æ­£è¦åŒ– â†’ `prepared/ja/` ã¸å‡ºåŠ›
2. **LibriSpeech**: `*.trans.txt` èª­ã¿è¾¼ã¿ â†’ FLACâ†’WAV å¤‰æ› + æ­£è¦åŒ– â†’ `prepared/en/` ã¸å‡ºåŠ›

### 7.7 .gitignore è¨­å®š

```gitignore
# ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‘ã‚¹ï¼ˆå¤§è¦æ¨¡ï¼‰
tests/assets/source/

# ç”Ÿæˆãƒ‡ãƒ¼ã‚¿ï¼ˆãƒ©ã‚¤ã‚»ãƒ³ã‚¹å•é¡Œï¼‰
tests/assets/prepared/
```

---

## 8. å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

### æ¦‚è¦: Phase A/B/C ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

| Phase | å†…å®¹ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-------|------|----------|
| **A** | åŸºç›¤æ§‹ç¯‰ | âœ… å®Œäº† |
| **B** | ASR ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ | ğŸ”œ æ¬¡ |
| **C** | VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ | ğŸ“‹ è¨ˆç”»æ¸ˆã¿ |

**å®Ÿè£…ç†ç”±:**
1. **å‹•ä½œç¢ºèªãŒå…ˆ**: å£Šã‚ŒãŸã‚¨ãƒ³ã‚¸ãƒ³ã§ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã—ã¦ã‚‚ç„¡æ„å‘³
2. **ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆãŒå…ˆ**: ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã®ä¾¡å€¤ã¯ãƒ‡ãƒ¼ã‚¿å“è³ªã§æ±ºã¾ã‚‹
3. **ASR ãŒå…ˆ**: VAD ã¯ ASR ã®ä¸Šã«æ§‹ç¯‰ï¼ˆä¾å­˜é–¢ä¿‚ï¼‰

---

### Phase A: åŸºç›¤æ§‹ç¯‰ (âœ… å®Œäº†)

| ã‚¿ã‚¹ã‚¯ | PR | å†…å®¹ |
|--------|-----|------|
| A-1 | #91-95 | å…¨10ã‚¨ãƒ³ã‚¸ãƒ³ã® smoke test å®Œäº† |
| A-2a | #97 | `tests/assets/audio/` ã‚’è¨€èªåˆ¥ãƒ•ã‚©ãƒ«ãƒ€ã«å†æ§‹æˆ |
| A-2b | #98 | `scripts/prepare_benchmark_data.py` ä½œæˆ |
| A-3 | #100 | `benchmarks/common/` å®Ÿè£… |
| A-4 | #100 | `pyproject.toml` ã« benchmark extra è¿½åŠ  |

---

### Phase B: ASR ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ (ğŸ”œ å®Ÿè£…äºˆå®š)

**å¯¾è±¡:** `benchmarks/asr/`

| ã‚¿ã‚¹ã‚¯ | å†…å®¹ |
|--------|------|
| B-1 | `ASRBenchmarkRunner` å®Ÿè£… |
| B-2 | CLI å®Ÿè£… (`python -m benchmarks.asr`) |
| B-3 | å‹•ä½œç¢ºèªã¨ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å®Ÿè¡Œ |

**CLI ä½¿ç”¨ä¾‹:**
```bash
python -m benchmarks.asr --mode quick
python -m benchmarks.asr --engine parakeet_ja whispers2t_large_v3 --language ja
python -m benchmarks.asr --mode standard --runs 3 --output results.json
```

---

### Phase C: VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ (ğŸ“‹ è¨ˆç”»æ¸ˆã¿)

**å¯¾è±¡:** `benchmarks/vad/`

| ã‚¿ã‚¹ã‚¯ | å†…å®¹ |
|--------|------|
| C-1 | VAD ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å®Ÿè£…ï¼ˆSection 5.2 å‚ç…§ï¼‰ |
| C-2 | `VADBenchmarkRunner` å®Ÿè£… |
| C-3 | CI ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®š |

**CLI ä½¿ç”¨ä¾‹:**
```bash
python -m benchmarks.vad --vad silero_v6 javad_precise --asr parakeet_ja
python -m benchmarks.vad --mode standard --format markdown
```

---

## 9. CLI ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

### 9.1 ASR ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯

```bash
# å…¨ã‚¨ãƒ³ã‚¸ãƒ³æ¯”è¼ƒ
python -m benchmarks.asr --all

# è¨€èªåˆ¥æ¯”è¼ƒ
python -m benchmarks.asr --language ja

# ç‰¹å®šã‚¨ãƒ³ã‚¸ãƒ³
python -m benchmarks.asr --engine reazonspeech parakeet_ja whispers2t_base

# å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰
python -m benchmarks.asr --mode quick    # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ2ã‚¨ãƒ³ã‚¸ãƒ³
python -m benchmarks.asr --mode standard # è¨€èªåˆ¥å…¨ã‚¨ãƒ³ã‚¸ãƒ³
python -m benchmarks.asr --mode full     # å…¨ã‚¨ãƒ³ã‚¸ãƒ³Ã—å…¨è¨€èª

# å‡ºåŠ›å½¢å¼
python -m benchmarks.asr --output results.json --format json
python -m benchmarks.asr --output report.md --format markdown
```

### 9.2 VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯

```bash
# ã‚¯ã‚¤ãƒƒã‚¯å®Ÿè¡Œï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ VAD + ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ ASRï¼‰
python -m benchmarks.vad

# å…¨ VAD Ã— è¨€èªåˆ¥æ¨å¥¨ ASR
python -m benchmarks.vad --all-vad

# ç‰¹å®š VAD + å…¨å¯¾å¿œ ASR
python -m benchmarks.vad --vad silero_v6 javad_precise --all-asr

# å…¨ VAD Ã— å…¨ ASRï¼ˆãƒ•ãƒ«ãƒ¢ãƒ¼ãƒ‰ï¼‰
python -m benchmarks.vad --full

# è¨€èªæŒ‡å®š
python -m benchmarks.vad --language ja --all-vad

# ç‰¹å®šã‚¨ãƒ³ã‚¸ãƒ³æŒ‡å®š
python -m benchmarks.vad --asr reazonspeech parakeet_ja whispers2t_base

# å‡ºåŠ›å½¢å¼
python -m benchmarks.vad --output results.json --format json
python -m benchmarks.vad --output report.md --format markdown
```

### 9.3 çµ±åˆå®Ÿè¡Œ

```bash
# ä¸¡æ–¹ã®ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å®Ÿè¡Œ
python -m benchmarks --type both --mode standard

# ASRã®ã¿
python -m benchmarks --type asr --mode quick

# VADã®ã¿
python -m benchmarks --type vad --mode full
```

---

## 10. å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

### 10.1 å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

**æ±ºå®šäº‹é …:** ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ããƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§è¤‡æ•°å›ã®å®Ÿè¡Œçµæœã‚’ä¿æŒ

```
benchmark_results/
  {YYYYMMDD_HHMMSS}_{mode}/     # ä¾‹: 20250126_143052_quick/
    summary.md                   # å…¨ä½“ã‚µãƒãƒªãƒ¼ï¼ˆMarkdownï¼‰
    raw/
      {engine}_{lang}.csv        # ä¾‹: parakeet_ja_ja.csv, whispers2t_large_v3_en.csv
```

**å½¹å‰²åˆ†æ‹…:**
- `summary.md`: äººé–“ãŒèª­ã‚€ãƒ¬ãƒãƒ¼ãƒˆï¼ˆé›†ç´„çµæœã€Best/Fastestç­‰ï¼‰
- `raw/*.csv`: åˆ†æç”¨ãƒ‡ãƒ¼ã‚¿ï¼ˆå„ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°çµæœï¼‰

### 10.2 ç”Ÿãƒ‡ãƒ¼ã‚¿å½¢å¼ï¼ˆCSVï¼‰

**æ±ºå®šäº‹é …:** CSVå½¢å¼ï¼ˆJSONã¯ãƒ‡ãƒ¼ã‚¿ãŒè†¨ã‚ŒãŒã¡ãªãŸã‚ï¼‰

**ãƒ•ã‚¡ã‚¤ãƒ«å˜ä½:** ã‚¨ãƒ³ã‚¸ãƒ³Ã—è¨€èªã”ã¨ã«1ãƒ•ã‚¡ã‚¤ãƒ«

**CSVæ§‹é€ :**
```csv
file_id,reference,transcript,cer,wer,rtf,duration_sec
JSUT_basic5000_0001,æ°´ã‚’ãƒãƒ¬ãƒ¼ã‚·ã‚¢ã‹ã‚‰è²·ã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ã™,æ°´ã‚’ãƒãƒ¬ãƒ¼ã‚·ã‚¢ã‹ã‚‰è²·ã‚ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ã™,0.0000,0.0000,0.12,3.45
JSUT_basic5000_0002,ã‚ˆãã‚ˆãèª¿ã¹ã‚Œã°ã¤ã¾ã‚‰ãªã„è©±ã ã¨æ€ã†,ã‚ˆãã‚ˆãèª¿ã¹ã‚Œè©°ã‚‰ãªã„è©±ã ã¨æ€ã†,0.0526,0.1429,0.15,2.89
```

**ã‚«ãƒ©ãƒ å®šç¾©:**

| ã‚«ãƒ©ãƒ  | èª¬æ˜ |
|--------|------|
| `file_id` | ãƒ•ã‚¡ã‚¤ãƒ«è­˜åˆ¥å­ |
| `reference` | æ•™å¸«æ–‡å­—åˆ—ï¼ˆæ­£è§£ï¼‰ |
| `transcript` | æ–‡å­—èµ·ã“ã—çµæœ |
| `cer` | Character Error Rateï¼ˆæ­£è¦åŒ–å¾Œï¼‰ |
| `wer` | Word Error Rateï¼ˆæ­£è¦åŒ–å¾Œï¼‰ |
| `rtf` | Real-Time Factor |
| `duration_sec` | éŸ³å£°ã®é•·ã•ï¼ˆç§’ï¼‰ |

**ãƒ¡ãƒªãƒƒãƒˆ:**
- ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆï¼ˆExcelç­‰ï¼‰ã§ã®åˆ†æãŒå®¹æ˜“
- å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ï¼ˆdiffç­‰ï¼‰ã§ã®è©³ç´°æ¯”è¼ƒãŒå¯èƒ½
- `reference` ã¨ `transcript` ã‚’ä¸¦åˆ—è¡¨ç¤ºã™ã‚‹ã“ã¨ã§æ¯”è¼ƒãŒå¯èƒ½

### 10.3 ã‚µãƒãƒªãƒ¼ãƒ¬ãƒãƒ¼ãƒˆï¼ˆMarkdownï¼‰

**å†…å®¹:**
- ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å®Ÿè¡Œæƒ…å ±ï¼ˆæ—¥æ™‚ã€ãƒ¢ãƒ¼ãƒ‰ã€å®Ÿè¡Œå›æ•°ï¼‰
- ã‚¨ãƒ³ã‚¸ãƒ³Ã—è¨€èªã”ã¨ã®é›†ç´„çµæœãƒ†ãƒ¼ãƒ–ãƒ«
- Best by languageï¼ˆæœ€é«˜ç²¾åº¦ï¼‰
- Fastestï¼ˆæœ€é«˜é€Ÿï¼‰
- Lowest VRAMï¼ˆæœ€å°ãƒ¡ãƒ¢ãƒªï¼‰

**å‡ºåŠ›ä¾‹:**
```markdown
# ASR Benchmark Report

**Date:** 2025-01-26 14:30:52
**Mode:** standard
**Runs:** 3

## Results by Language

### Japanese (ja)

| Engine | CER | WER | RTF (meanÂ±std) | VRAM |
|--------|-----|-----|----------------|------|
| parakeet_ja | 3.2% | 8.1% | 0.12 Â± 0.01 | 3584MB |
| whispers2t_large_v3 | 4.1% | 9.5% | 0.15 Â± 0.02 | 1536MB |

**Best CER:** parakeet_ja (3.2%)
**Fastest:** parakeet_ja (RTF 0.12)

### English (en)
...

## Summary

- **Total files:** 200
- **Total duration:** 1234.5 sec
- **Errors/Skipped:** 2
```

### 10.4 VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯å‡ºåŠ›ï¼ˆPhase Cï¼‰

VAD ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã§ã¯è¿½åŠ ã‚«ãƒ©ãƒ ã‚’å«ã‚€:

```csv
file_id,vad,asr,reference,transcript,cer,wer,rtf,segments,duration_sec
```

- `vad`: VAD ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å
- `asr`: ASR ã‚¨ãƒ³ã‚¸ãƒ³å
- `segments`: æ¤œå‡ºã‚»ã‚°ãƒ¡ãƒ³ãƒˆæ•°

---

## 11. CI ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### 11.1 ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

**ãƒ•ã‚¡ã‚¤ãƒ«:** `.github/workflows/benchmark.yml` (Phase C ã§ä½œæˆäºˆå®š)

**ãƒˆãƒªã‚¬ãƒ¼:** `workflow_dispatch` (æ‰‹å‹•å®Ÿè¡Œ)

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿:**
- `benchmark_type`: asr / vad / both
- `mode`: quick / standard / full
- `language`: ja / en / (ç©º=å…¨ã¦)

**å®Ÿè¡Œç’°å¢ƒ:** `[self-hosted, windows]` (RTX 4090)

**å‡¦ç†ãƒ•ãƒ­ãƒ¼:**
1. Checkout â†’ FFmpeg setup â†’ Python environment (`uv sync`)
2. Benchmark å®Ÿè¡Œ â†’ `results.json` å‡ºåŠ›
3. Report ç”Ÿæˆ â†’ `report.md` å‡ºåŠ›
4. Artifact upload + GitHub Step Summary

### 11.2 å®Ÿè¡Œãƒ¢ãƒ¼ãƒ‰è©³ç´°

| ãƒ¢ãƒ¼ãƒ‰ | ASR ãƒ†ã‚¹ãƒˆ | VAD ãƒ†ã‚¹ãƒˆ | æ¨å®šæ™‚é–“ |
|--------|-----------|-----------|---------|
| `quick` | 4 (è¨€èªåˆ¥2) | 12 (3 VAD Ã— 2 ASR Ã— 2 lang) | ~5åˆ† |
| `standard` | 10 (è¨€èªåˆ¥å…¨) | 40-60 (10 VAD Ã— 2-3 ASR Ã— 2 lang) | ~20åˆ† |
| `full` | 20 (å…¨çµ„ã¿åˆã‚ã›) | 80+ (10 VAD Ã— å…¨ASR Ã— 2 lang) | ~60åˆ† |

---

## 12. ä¾å­˜é–¢ä¿‚

### 12.1 pyproject.toml è¿½åŠ 

```toml
[project.optional-dependencies]
benchmark = [
    # VAD backends
    "silero-vad>=5.1",
    "webrtcvad>=2.0.10",
    "javad",
    # Metrics
    "jiwer>=3.0",
    # Reporting
    "matplotlib",
    "pandas",
    "tabulate",
    # Progress display
    "tqdm>=4.0",
    # Profiling
    "memory_profiler",
]

benchmark-full = [
    "livecap-cli[benchmark]",
    "ten-vad",  # ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ³¨æ„
]
```

### 12.2 æ—¢å­˜ä¾å­˜ã®æ´»ç”¨

- `engines/` - ASR ã‚¨ãƒ³ã‚¸ãƒ³å®Ÿè£…
- `engines/metadata.py` - ã‚¨ãƒ³ã‚¸ãƒ³ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
- `engines/engine_factory.py` - ã‚¨ãƒ³ã‚¸ãƒ³ç”Ÿæˆ
- `tests/utils/text_normalization.py` - ãƒ†ã‚­ã‚¹ãƒˆæ­£è¦åŒ–

---

## 13. ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å½±éŸ¿ | å¯¾ç­– |
|--------|------|------|
| TenVAD ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å•é¡Œ | å•†ç”¨åˆ©ç”¨ä¸å¯ | è©•ä¾¡ã®ã¿ã«ä½¿ç”¨ã€`benchmark-full` ã§åˆ†é›¢ |
| å¤§è¦æ¨¡ãƒ¢ãƒ‡ãƒ«ã®ãƒ¡ãƒ¢ãƒªä¸è¶³ | ãƒ†ã‚¹ãƒˆå¤±æ•— | ã‚¨ãƒ³ã‚¸ãƒ³ã”ã¨ã«ãƒ¡ãƒ¢ãƒªè§£æ”¾ã€é †æ¬¡å®Ÿè¡Œ |
| å…¨çµ„ã¿åˆã‚ã›ã®å®Ÿè¡Œæ™‚é–“ | CI ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ãƒ¢ãƒ¼ãƒ‰åˆ†é›¢ï¼ˆquick/standard/fullï¼‰ |
| ã‚¨ãƒ³ã‚¸ãƒ³ä¾å­˜é–¢ä¿‚ã®ç«¶åˆ | ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¤±æ•— | `engines-nemo` ã¨ `engines-torch` ã‚’åˆ†é›¢ |

---

## 14. å°†æ¥ã®æ‹¡å¼µ

### 14.1 ãƒã‚¤ã‚ºè€æ€§è©•ä¾¡

- DEMAND ãƒã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã¨ã®æ··åˆ
- SNR åˆ¥ã®ç²¾åº¦è©•ä¾¡

### 14.2 ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§èƒ½è©•ä¾¡

- ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å‡¦ç†ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·æ¸¬å®š
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®æ™‚ç³»åˆ—åˆ†æ

### 14.3 å¤šè¨€èªæ‹¡å¼µ

- de, fr, es ãªã©ã®è¿½åŠ è¨€èª
- è¨€èªæ¤œå‡ºç²¾åº¦ã®è©•ä¾¡

---

## 15. å‚è€ƒè³‡æ–™

- [Silero VAD GitHub](https://github.com/snakers4/silero-vad)
- [Silero VAD Quality Metrics](https://github.com/snakers4/silero-vad/wiki/Quality-Metrics)
- [JaVAD GitHub](https://github.com/skrbnv/javad)
- [TenVAD GitHub](https://github.com/TEN-framework/ten-vad)
- [jiwer (WER calculation)](https://github.com/jitsi/jiwer)
- `engines/metadata.py` - ã‚¨ãƒ³ã‚¸ãƒ³ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å®šç¾©
- `docs/reference/vad-comparison.md` - VAD æ¯”è¼ƒèª¿æŸ»
- `tests/integration/engines/test_smoke_engines.py` - æ—¢å­˜ã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ã‚¹ãƒˆ
